<mat-card *ngIf="questions && !isTestTaken()" [style.text-align]="'center'" [style.margin-top]="'10px'" class="center_div">
  <!-- <mat-card-header>
    <mat-card-title><span [style.text-align]="'center'">Test Information</span></mat-card-title>
  </mat-card-header> -->
  <mat-card-content>
    <p class="text-primary">Basic Test Information</p>
    <p>There are <span class="text-primary bg-danger">{{questions.questions.length}}</span> questions in this section.</p>
    <p>The time alloted to complete this section is <span class="text-primary bg-danger">{{questions.duration}}</span> minutes</p>
  </mat-card-content>
  <mat-card-actions>
    <button mat-button (click)="takeTest()" class="bg" >Take Test</button>
  </mat-card-actions>
</mat-card>

<div *ngIf="questions?.questions.length > 0 && isTestTaken()">
  <button mat-raised-button class="clock">{{hoursDisplay ? hoursDisplay : '00'}} : {{(minutesDisplay) && (minutesDisplay <= 59) ? minutesDisplay : '00'}} : {{(secondsDisplay) && (secondsDisplay <= 59) ? secondsDisplay : '00'}}
  </button>
</div>

<div *ngIf="isTestTaken()" >
  <div *ngFor="let question of questions.questions;let i = index">
    <mat-card *ngIf="i === getIndex()">
    <!-- <mat-card-header>
      <mat-card-title>
        <p [ngSwitch]="question?.type" class="bg">
          <span *ngSwitchCase="'yes_no'">
          YES/NO
          </span>
          <span *ngSwitchCase="'objective'">
          OBJECTIVE
          </span>
          <span *ngSwitchCase="'descriptive'">
          DESRIPTIVE
          </span>
          <span *ngSwitchDefault>
          Error
          </span>Type Question
        </p>
      </mat-card-title>
    </mat-card-header> -->
    <mat-card-content>
      QUESTION: {{question?.content}}
        <p [ngSwitch]="question?.type" [style.margin-top]="'25px'">
        <span *ngSwitchCase="'yes_no'">
          <mat-radio-group>
            <mat-radio-button [value]="true" [checked]="question.answer === 'true'" (click)="setAnswer('true')">True</mat-radio-button>
            <mat-radio-button [value]="false" [checked]="question.answer === 'false'" (click)="setAnswer('false')" [style.margin-left]="'10px'">False</mat-radio-button>
          </mat-radio-group>
        </span>
        <span *ngSwitchCase="'objective'">
          <div *ngFor="let option of question?.options" [style.margin-top]="'10px'">
            <mat-radio-button [value]="option" [checked]="option === question?.answer" (click)="setAnswer(option)">{{option}}</mat-radio-button>
          </div>
        </span>
        <span *ngSwitchCase="'descriptive'">
          <mat-form-field [floatLabel]="'never'" [style.width.%]="100" >
            <textarea matInput placeholder="Enter your Answer Here !" matTextareaAutosize matAutosizeMinRows="10" matAutosizeMaxRows="500" [(ngModel)]="question.answer" (ngModelChange)="setAnswer('')" ></textarea>
          </mat-form-field>
        </span>
        <span *ngSwitchDefault>
        Error
        </span>
        </p>
    </mat-card-content>
    <mat-card-actions>
      <button mat-button *ngIf="getIndex() > 0" (click)="goto(getIndex()-1)">previous</button>
      <button mat-button *ngIf="getIndex() < questions.questions.length-1" (click)="next(getIndex())">next</button>
      <button mat-button *ngIf="getIndex() === questions.questions.length-1" (click)="openDialog()" >Submit</button>
    </mat-card-actions>
  </mat-card>
  </div>
</div>
